# Copyright (c) 2011 The Chromium OS Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

''' This configuration file consists of:

Some path definitions:
    gesture_files_path: the path of the gesture files
    trackpad_device_file: the trackpad device file

functionality_list: details the specific functionalities to be tested.

filename_attr: specifies the components to generate test file names
'''


''' Path definitions '''
# gesture_files_path: specify the directory of the test files
gesture_files_path = '/var/tmp/trackpad_test_data/test_files'

# The device file is used to record/replay trackpad device events.
# The device file created by evdev. This can also be specified by command line
# option. Note that the path of the device file may vary from model to model.
trackpad_device_file = '/dev/input/event6'


''' functionality_list: The list of test functionalities to test,
                        including test files

    area: a broader category that several functionalities belong to.
          E.g., 1 finger point & click.

    A functionality has the following attributes:

    TrackpadTestFunctionality(

        name: the name of the functionality, e.g., any_finger_click

        subname: specifying any variation of a particular functionality
              e.g., up or down for two_finger_scroll functionality
              e.g., l1 means the thumb of left hand, and
                    r2 means the index finger of right hand for any_finger_click

        description: the description of the functionality

        prompt, subprompt: Prompt messages about a functionality and its
              subname when recording

        area: the area to which the functionality belongs,
              e.g., '2 finger scroll'

        criteria: configurable criteria associated with a functionality

        weight: the weight of each functionality, used to calculate how well
              a driver performs

        enabled: True or False to indicate whether this functionality will be
              used during recording or during the test.

        files: the list of test files. Can be specific file names, or '*', or
              something like 'two_finger_scroll.down-*'
    ),
'''

area = {
    0: '1 finger point & click',
    1: 'Click & select/drag',
    2: '2 finger alternate/right click',
    3: '2 finger scroll',
    4: 'Palm/thumb detection',
    5: 'Settings',
    6: 'Requirements across all Chrome OS components',
}

functionality_list = [
    TrackpadTestFunctionality(
        name='any_finger_click',
        subname=('l0', 'l1', 'l2', 'l3', 'l4', 'r0', 'r1', 'r2', 'r3', 'r4'),
        description='Any finger, including thumb, can click',
        prompt='Click exactly one time using the %s of your %s hand.',
        subprompt={
            'l0': ('thumb', 'left'),
            'l1': ('index finger', 'left'),
            'l2': ('middle finger', 'left'),
            'l3': ('ring finger', 'left'),
            'l4': ('pinky', 'left'),
            'r0': ('thumb', 'right'),
            'r1': ('index finger', 'right'),
            'r2': ('middle finger', 'right'),
            'r3': ('ring finger', 'right'),
            'r4': ('pinky', 'right'),
        },
        area=area[0],
        criteria=None,
        weight=1,
        enabled=True,
        files=('*',
        ),
    ),

    TrackpadTestFunctionality(
        name='no_cursor_wobble',
        subname=('5l', '5r'),
        description='No cursor wobble, creep, or jumping (or jump back) during \
                     clicking',
        prompt='Click %d times using any finger of your %s hand.',
        subprompt={
            '5l': (5, 'left'),
            '5r': (5, 'right'),
        },
        area=area[0],
        criteria='0',
        weight=2,
        enabled=True,
        files=('*',
        ),
    ),

    TrackpadTestFunctionality(
        name='two_finger_scroll',
        subname=('up', 'down'),
        description='Vertical scroll, reflecting movement of finger(s)',
        prompt='Use two fingers to scroll %s exactly once.',
        subprompt={
            'up': 'up',
            'down': 'down',
        },
        area=area[3],
        criteria='',
        weight=1,
        enabled=True,
        files=('*',
        ),
    ),

]



''' filename_attr: A test file name is composed of the following attributes

      functionality name and subname: This prefix is generated automatically for
          each functionality. E.g., two_finger_scroll.down

      model: the model of the machine. E.g.
          ['model', 'alex'],

      firmware_version: the firmware version of the trackpad. This field can be
          generally omitted if any updated trackpad firmware provided by the
          trackpad manufacturer does not affect the performance of the trackpad.
          When the firmware version needs to be specified, do it like:
          ['firmware_version', 'v8.5'],

      [other custom attributes come in here]: e.g., 'kernel_driver_version',
      'trackpad_material', etc.

      tester: the tester name is to be shown on the file name. Different testers
          might have different ways of making gestures. If the tester is None,
          trackpad record program will prompt the user to enter the name when
          capturing gesture data files. To specify the name:
          ['tester', 'tom'],

      timestamp: the timestamp when the file is captured. UTC time is employed.
          It is generated automatically. The format is composed of year, month,
          day, hour, minute, and second. E.g., 20110407_185746

      ext: the extension of the data file. E.g.,
          ['ext', 'dat']

    The name of a test file looks as:
          two_finger_scroll.down-mario-john-20110407_185746.dat
'''

filename_attr = [
    ['model', 'alex'],
    ['firmware_version', None],
    ['tester', None],
    ['ext', 'dat']
]
