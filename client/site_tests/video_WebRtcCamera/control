# Copyright 2015 The Chromium OS Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

AUTHOR = "Chrome OS Project, chromeos-video@google.com"
NAME = "video_WebRtcCamera"
PURPOSE = "Check that a series of gUM calls at different resolutions"
CRITERIA = "This test will fail if WebRTC gUM fails mandatory resolutions"
ATTRIBUTES = "suite:bvt-perbuild, suite:av_webcam"
TIME = "MEDIUM"
TEST_CATEGORY = "Performance"
TEST_CLASS = "video"
TEST_TYPE = "client"
DEPENDENCIES = "webcam"
BUG_TEMPLATE = {
    "labels": ["OS-Chrome"],
    "components": ["OS>Kernel>Video"],
}

DOC = """
This test starts a  WebRTC GetUserMedia call with one video tag.
This test will iterate through a set of resolutions and check if the gUM call
could set the requested resolutions. This also logs the number of black
frames and frozen frames to perf (there should not be many such frames).
"""

job.run_test("video_WebRtcCamera")
