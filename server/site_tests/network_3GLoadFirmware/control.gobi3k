# Copyright (c) 2012 The Chromium OS Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

AUTHOR = "Chrome OS Team"
NAME = "3GLoadFirmware"
SUITE = "network3g"
TIME = "SHORT"
TEST_CATEGORY = "Functional"
TEST_CLASS = "network"
TEST_TYPE = "server"
DEPENDENCIES = "modem:gobi3k"

DOC= """
This test repeatedly powercycles the modem and reboots the target to cause the
firmware to be loaded at boot time, and checks that the firmware has been loaded
each time.
"""

def run_3g_load_firmware(machine):
    host = hosts.create_host(machine)
    job.run_test("network_3GLoadFirmware", tag="gobi3k",
                 iterations=5, host=host)

parallel_simple(run_3g_load_firmware, machines)
